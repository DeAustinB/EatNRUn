<!DOCTYPE html>

<html>
    <head>
		<embed src="snd/racetune.mp3" hidden=true autostart=false>
		<script language="Javascript" type="text/javascript"></script>
            <!-- Javascript references -->
		<script type="text/javascript" src="js/kinetic-v4.5.0.min.js"></script>
        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/jquery-ui.min.js"></script>
        <script type="text/javascript" src="js/game.js"></script>
		<script type="text/javascript" src="js/pause.js"></script>
            <!-- CSS References -->
        <link href="css/healthbar.css" rel="stylesheet" type="text/css"/>
        <link href="css/game.css" rel="stylesheet" type="text/css"/>
        <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.css" />
        <link href='css/overlaypopup.css' rel='stylesheet' type='text/css'>
		<link href='css/buston2.css' rel='stylesheet' type='text/css'>
		<link href="snd/racetune.mp3" rel='sound' type='audio'>
       <!--md-->
	
    </head>
    <body style="z-index : 1">
<div class="main-content">
	<!-- Pause Below -->
<img src="img/button_black_pause.png" class="show-popup" href="#" alt="pause" align="right" id = "pauseB"/> </div>
<div class="overlay-bg">
	<div class="overlay-content">
		<div class="container" align="center">
        <img src="img/eat_logo.png" height="65" width="65"/><br>
		<img src="img/sublogo.png" height="20" width="155"/>
           <br>
            <button id="close">Resume</button><br>
            <button id="restart">Restart</button><br>
        </div>
     </div>
</div>
<!-- Pause End -->
      <div class="progressbar">
        <div class="redbar">
            <div class="greenbar">
            </div>
        </div>
      </div>
    <div align="left"><span id="score">SCORE: 0</span></div>
	  <div class="timer" align="center"><span id="tick">60</span></div>
		<div id="avabox"></div>
		<div id="lunchbox"></div>
		<div id="resetbox"></div>
<script>
      var stage = new Kinetic.Stage({ //stage where you stick the layer
        container: 'avabox', //the id of the stage
        width: 125,
        height: 144});
		
      var layer = new Kinetic.Layer();
      var animations = {
        walkCycle: [{
          x: 1,
          y: 1,
          width: 125,
          height: 144}, 
		  {x: 125,
          y: 1,
          width: 125,
          height: 144}, 
		  {x: 250,
          y: 1,
          width: 125,
          height: 144}, 
		  {x: 375,
          y: 1,
          width: 125,
          height: 144}, 
		  {x: 1,
          y: 142,
          width: 125,
          height: 144},
		  {x: 125,
          y: 144,
          width: 125,
          height: 144}, 
		  {x: 250,
          y: 142,
          width: 125,
          height: 144}, 
		  {x: 375,
          y: 142,
          width: 125,
          height: 144},
		  {x: 1,
          y: 294,
          width: 125,
          height: 144},
		  {x: 125,
          y: 294,
          width: 125,
          height: 144}, 
		  {x: 250,
          y: 294,
          width: 125,
          height: 144}, 
		  {x: 375,
          y: 294,
          width: 125,
          height: 144}, 
		  {x: 1,
          y: 437,
          width: 125,
          height: 144},
		  {x: 125,
          y: 437,
          width: 125,
          height: 144}]};

      var imageObj = new Image(); // the sprite sheet 
      imageObj.onload = function() { //load the image 
        var art = new Kinetic.Sprite({ //
          x: 1,
          y: 1,
          image: imageObj, //the image of the sprite sheet
          animation: 'walkCycle', //the name of the cycle
          animations: animations, //the function 'animations' defined earlier
          frameRate: 20,}); //frame rate at which the avatar runs
		  
        // add the shape to the layer
        layer.add(art);

        // add the layer to the stage
        stage.add(layer);
        art.start(); //makes it run 
           
		document.getElementById('pauseB').addEventListener('click', function() {
          art.stop();     
          }, false); 	//pauses the animation
		   
		document.getElementById('close').addEventListener('click', function() {
          art.start();     
          }, false);	//resumes the animation
		 }	   
      imageObj.src = 'img/jellorun.png'; //image source	


 var lunstage = new Kinetic.Stage({
        container: 'lunchbox',
        width: 173,
        height: 188});
		
      var lunlayer = new Kinetic.Layer();
      var lanimations = {
        lunCycle: [{
          x: 1,
          y: 1,
          width: 137,
          height: 174}, 
		  {x: 137,
          y: 1,
          width: 149,
          height: 174}, 
		  {x: 285,
          y: 1,
          width: 152,
          height: 174}, 
		  {x: 437,
          y: 1,
          width: 173,
          height: 174}, 
		  {x: 1,
          y: 174,
          width: 137,
          height: 184},
		  {x: 137,
          y: 174,
          width: 149,
          height: 184}, 
		  {x: 285,
          y: 174,
          width: 152,
          height: 184}, 
		  {x: 437,
          y: 174,
          width: 173,
          height: 184}, 
		  {x: 1,
          y: 358,
          width: 137,
          height: 188},
		  {x: 137,
          y: 358,
          width: 149,
          height: 188}, 
		  {x: 285,
          y: 358,
          width: 152,
          height: 188}, 
		  {x: 437,
          y: 358,
          width: 173,
          height: 188}, 
		  {x: 1,
          y: 546,
          width: 137,
          height: 175},
		  {x: 137,
          y: 546,
          width: 149,
          height: 175}]};

      var lunImage = new Image();
      lunImage.onload = function() {
        var big = new Kinetic.Sprite({
          x: 1,
          y: 1,
          image: lunImage,
          animation: 'lunCycle',
          animations: lanimations,
          frameRate: 20,});
		  
        // add the shape to the layer
        lunlayer.add(big);

        // add the layer to the stage
        lunstage.add(lunlayer);
		big.start();
		
		
		document.getElementById('pauseB').addEventListener('click', function() {
          big.stop();     
          }, false); 
		   
		document.getElementById('close').addEventListener('click', function() {
          big.start();     
          }, false);
		}	
      lunImage.src = "img/lunchrun.png";		  
    </script>
    </body>
</html>
